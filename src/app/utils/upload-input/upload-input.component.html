<div class="app-upload-input">
  <input #uploadInput hidden type="file" onclick="this.value=null" (change)="onChange($event)"/>
  <button mat-flat-button type="button" [disabled]="isUploading" color="primary" (click)="uploadInput.click()" i18n>
    <span *ngIf="!filePath">{{name}}</span>
    <span *ngIf="filePath" i18n>Replace {{name}}</span>
  </button>
  <span *ngIf="filePath && !isUploading && !isError" i18n>&nbsp;Current:
    <a *ngIf="type === 'video'" target="_blank" [href]="filePath | mediaUrl:'videoMP4'">{{filePath}}</a>
    <a *ngIf="type === 'image'" target="_blank" [href]="filePath | mediaUrl:'image'">{{filePath}}</a>
  </span>

  <span *ngIf="isUploading && !isError" i18n>&nbsp;Uploading... {{uploadProgress | number:'1.0-0'}}%</span>
  <mat-progress-bar *ngIf="isUploading && !isError" [value]="uploadProgress">
  </mat-progress-bar>

  <span *ngIf="isError && !isUploading" class="error" i18n>&nbsp;Error: No file uploaded {{errorMsg|json}} !</span>
</div>
